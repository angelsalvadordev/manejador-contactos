(this["webpackJsonpmanejador-contactos"]=this["webpackJsonpmanejador-contactos"]||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(9),r=a.n(o),l=function(){return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"intro col"},c.a.createElement("h1",{className:"intro__title text-center"},"MANEJADOR",c.a.createElement("span",{className:"font-weight-normal"},"DE"),"CONTACTOS"),c.a.createElement("h2",{className:"intro__subtitle font-weight-normal text-center"},"Busca, edita o elimina un contacto")))},s=a(2),i=c.a.createContext(),m=function(){var e=Object(n.useContext)(i),t=Object(s.a)(e,1)[0];return c.a.createElement("div",{className:"row justify-content-center mb-1"},c.a.createElement("div",{className:"col-6 col-md-3 col-lg-2 bg-confirm counter-contacts"},"Contactos:",c.a.createElement("span",null,t.contacts.length)))},u=function(e){return{type:"DISABLE_SEARCHER",data:e}},d=function(e){return{type:"FORM_ADD_CONTACT",data:e}},f=function(){var e=Object(n.useContext)(i),t=Object(s.a)(e,2),a=t[0],o=t[1],r=a.isSearcherDisabled;return c.a.createElement("div",{className:"col-10 d-flex searcher ".concat(r?"bg-gray-light searcher--disabled":"bg-secondary ")},c.a.createElement("input",Object.assign({onKeyUp:function(e){return!r&&o({type:"SEARCH_CONTACT",data:e.target.value})},className:"searcher__input text-white",type:"text",placeholder:"Buscar contacto"},r&&{disabled:!0})))},p=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},b=a(3),E=a(1),v=function(e){var t=e.contact,a=e.setShowEditor,o=e.setShowOptions,r=t.id,l=t.name,m=t.phone,d=t.email,f=t.picture,p="".concat(l.first," ").concat(l.last),v=Object(n.useContext)(i),O=Object(s.a)(v,2),g=(O[0],O[1]);return c.a.createElement("div",{className:"contact-edit d-flex align-items-center row no-gutters bg-light"},c.a.createElement("div",{className:"col-12"},c.a.createElement("form",{action:"#",className:"contact-edit-form",onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=Array.from(e.target.querySelectorAll("div > input")),n={id:r,picture:f};t.forEach((function(e){var t=e.value.split(" ");n="name"===e.name?Object(E.a)(Object(E.a)({},n),{},{name:{first:t[0],last:t[1]||""}}):Object(E.a)(Object(E.a)({},n),{},Object(b.a)({},e.name,e.value))})),g({type:"EDIT_CONTACT",data:Object(E.a)({id:r},n)}),a(!1),o(!1)}},c.a.createElement("div",{className:"d-flex"},c.a.createElement("label",{className:"f-icon"},"account_circle"),c.a.createElement("input",{type:"text",name:"name",placeholder:"Name",defaultValue:p})),c.a.createElement("div",{className:"d-flex"},c.a.createElement("label",{className:"f-icon"},"phone"),c.a.createElement("input",{type:"text",name:"phone",placeholder:"Telefono",defaultValue:m})),c.a.createElement("div",{className:"d-flex"},c.a.createElement("label",{className:"f-icon"},"email"),c.a.createElement("input",{type:"text",name:"email",placeholder:"Email",defaultValue:d})),c.a.createElement("input",{type:"button",value:"close",className:"contact-edit-form__close bg-danger f-icon",onClick:function(e){window.confirm("Seguro que deseas salir del modo editar?")&&(e.stopPropagation(),a(!1),g(u(!1)),o(!1))}}),c.a.createElement("input",{type:"submit",value:"check",className:"contact-edit-form__send f-icon bg-confirm"}))))},O=function(e){var t=e.contact,a=e.setShowOptions,o=Object(n.useState)(!1),r=Object(s.a)(o,2),l=r[0],m=r[1],d=Object(n.useContext)(i),f=Object(s.a)(d,2),p=(f[0],f[1]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row no-gutters d-flex bg-light contact-options"},c.a.createElement("div",{className:"col-6 d-flex justify-content-center align-items-center "},c.a.createElement("span",{className:"contact-options__edit d-flex align-items-center",onClick:function(e){e.stopPropagation(),m(!0),p(u(!0))}},"Editar")),c.a.createElement("div",{className:"col-6 d-flex justify-content-center align-items-center"},c.a.createElement("span",{className:"contact-options__delete d-flex align-items-center",onClick:function(e){e.stopPropagation(),window.confirm("Seguro que deseas eliminar este contacto?")&&(p({type:"REMOVE_CONTACT",id:t.id}),a(!1))}},"Eliminar")),c.a.createElement("div",{className:"contact-options__back f-icon",onClick:function(e){e.stopPropagation(),a(!1)}},"settings_backup_restore")),l?c.a.createElement(v,{contact:t,setShowEditor:m,setShowOptions:a}):null)},g=function(e){var t=e.contact,a=Object(n.useState)(!1),o=Object(s.a)(a,2),r=o[0],l=o[1],i=t.name,m=void 0===i?{}:i,u=t.picture,d=void 0===u?"":u,f=t.phone,p=t.email,b=m.first,E=m.last;return c.a.createElement("div",{className:"col-12 col-md-6 col-lg-4 mt-2 mb-2"},c.a.createElement("div",{className:"row no-gutters contact bg-light pt-2 pb-2",onClick:function(){l(!0)}},c.a.createElement("div",{className:"col-3 ml-2 d-flex align-items-center justify-content-end contact-image"},d?c.a.createElement("img",{className:"contact-image__photo",src:d,alt:"Imagen de ".concat(b," ").concat(E)}):c.a.createElement("p",{className:"contact-image__photo contact-image__letters"},"".concat((null===b||void 0===b?void 0:b.charAt(0))||"").concat((null===E||void 0===E?void 0:E.charAt(0))||""))),c.a.createElement("div",{className:"col contact-info"},c.a.createElement("h6",{className:"contact-info__name"},b?"".concat(b," ").concat(E):"Sin Nombre"),c.a.createElement("span",{className:"contact-info__phone"},f||"-"),c.a.createElement("span",{className:"contact-info__mail"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return e.length>t?"".concat(e.substring(0,t),"..."):e}(p)||"-")),r?c.a.createElement(O,{contact:t,setShowOptions:l}):null))},N=function(){var e=Object(n.useContext)(i),t=Object(s.a)(e,2),a=(t[0],t[1]);return c.a.createElement("div",{className:"col-12 col-md-6 col-lg-4 mt-2 mb-2"},c.a.createElement("div",{className:"new-contact d-flex align-items-center row no-gutters bg-light pt-2 pb-2"},c.a.createElement("form",{action:"#",className:"new-contact-form",onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=Array.from(e.target.querySelectorAll("div > input")),n={picture:""};t.forEach((function(e){var t=e.value.split(" ");n="name"===e.name?Object(E.a)(Object(E.a)({},n),{},{name:{first:t[0],last:t[1]||""}}):Object(E.a)(Object(E.a)({},n),{},Object(b.a)({},e.name,e.value))})),a({type:"ADD_CONTACT",data:n})}},c.a.createElement("div",{className:"d-flex"},c.a.createElement("label",{className:"f-icon"},"account_circle"),c.a.createElement("input",{type:"text",name:"name",placeholder:"Name"})),c.a.createElement("div",{className:"d-flex"},c.a.createElement("label",{className:"f-icon"},"phone"),c.a.createElement("input",{type:"text",name:"phone",placeholder:"Telefono"})),c.a.createElement("div",{className:"d-flex"},c.a.createElement("label",{className:"f-icon"},"email"),c.a.createElement("input",{type:"text",name:"email",placeholder:"Email"})),c.a.createElement("input",{type:"button",value:"close",className:"new-contact-form__close bg-danger f-icon",onClick:function(e){window.confirm("Seguro que no desea agregar un contacto?")&&(e.stopPropagation(),a(u(!1)),a(d(!1)))}}),c.a.createElement("input",{type:"submit",value:"check",className:"new-contact-form__send f-icon bg-confirm"}))))},h=function(){var e=Object(n.useContext)(i),t=Object(s.a)(e,1)[0],a=t.contacts,o=t.search,r=t.isFormAddContact;return c.a.createElement("div",{className:"row"},r?c.a.createElement(N,null):null,a.filter((function(e){var t=p("".concat(e.name.first," ").concat(e.name.last).toLowerCase()),a=p(o);return t.includes(a)})).map((function(e,t){return c.a.createElement(g,{key:t,contact:e})})))},j=a(6),_={contacts:[],search:"",isSearcherDisabled:!1,isFormAddContact:!1},C=function(e,t){switch(t.type){case"SAVE_CONTACTS":return Object(E.a)(Object(E.a)({},e),{},{contacts:[].concat(Object(j.a)(e.contacts),Object(j.a)(t.data))});case"SEARCH_CONTACT":return Object(E.a)(Object(E.a)({},e),{},{search:t.data.toLowerCase()});case"DISABLE_SEARCHER":return Object(E.a)(Object(E.a)({},e),{},{isSearcherDisabled:t.data});case"FORM_ADD_CONTACT":return Object(E.a)(Object(E.a)({},e),{},{isFormAddContact:t.data});case"ADD_CONTACT":return Object(E.a)(Object(E.a)({},e),{},{contacts:[Object(E.a)(Object(E.a)({},t.data),{},{id:e.contacts.length})].concat(Object(j.a)(e.contacts)),isSearcherDisabled:!1,isFormAddContact:!1});case"EDIT_CONTACT":return Object(E.a)(Object(E.a)({},e),{},{contacts:e.contacts.map((function(e){return e.id===t.data.id?t.data:e})),isSearcherDisabled:!1});case"REMOVE_CONTACT":return Object(E.a)(Object(E.a)({},e),{},{contacts:e.contacts.filter((function(e){return e.id!==t.id}))});default:console.log("error inesperado",t.type)}},x=a(7),w=a.n(x),y=a(10),A=function(){var e=Object(y.a)(w.a.mark((function e(){var t,a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://randomuser.me/api/?results=25&nat=es");case 2:return e.next=4,e.sent.json();case 4:return t=e.sent,a=t.results,n=a.map((function(e){var t=e.email,a=e.id,n=e.name,c=e.phone,o=e.picture,r=(o=void 0===o?{}:o).thumbnail;return{email:t,id:a,name:n,phone:c,picture:void 0===r?"":r}})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){var t=Object(n.useReducer)(C,_),a=Object(s.a)(t,2),o=a[0],r=a[1];return Object(n.useEffect)((function(){A().then((function(e){return r({type:"SAVE_CONTACTS",data:e})}))}),[]),c.a.createElement(i.Provider,{value:[o,r]},e.children)},T=function(){var e=Object(n.useContext)(i),t=Object(s.a)(e,2),a=(t[0],t[1]);return c.a.createElement("div",{className:"col-2"},c.a.createElement("div",{className:"add-contact bg-action text-white",onClick:function(){a(d(!0)),a(u(!0))}},"Nuevo contacto"))},D=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1];return c.a.createElement("div",{className:"col-4 col-md-2 mx-auto"},c.a.createElement("div",{className:"switch my-2 ".concat(a?"active":""),onClick:function(){document.body.classList.toggle("dark"),o(!a)}},c.a.createElement("span",{className:"f-icon"},"brightness_7"),c.a.createElement("span",{className:"f-icon"},"brightness_3")))},k=(a(17),function(){return c.a.createElement(S,null,c.a.createElement("div",{className:"container pt-4"},c.a.createElement(l,null),c.a.createElement(D,null),c.a.createElement(m,null),c.a.createElement("div",{className:"row no-gutters mb-2 justify-content-between"},c.a.createElement(f,null),c.a.createElement(T,null)),c.a.createElement(h,null)))});r.a.render(c.a.createElement(k,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.42e72e3b.chunk.js.map